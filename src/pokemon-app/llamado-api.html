<link rel="import" href="../bower_components/polymer/polymer-element.html">
<link rel="import" href="../../bower_components/iron-ajax/iron-ajax.html">
<link rel="import" href="../../bower_components/polymer/lib/elements/dom-repeat.html">

<dom-module id="llamado-api">
    <template>
        <style>
            :host {
                display: block
            }
        </style>

        <iron-ajax
            auto
            url="https://pokeapi.co/api/v2/pokemon/"
            handle-as="json"
            last-response = "{{pokemonobject}}"></iron-ajax>

            <!--template is="dom-repeat" items="{{pokemon.results}}">

            <li>{{item.name}}</li>


            </template-->


    </template>


    <script>


        class LlamadoApi extends Polymer.Element {
            /**
             * String providing the tag name to register the element under.
             */
            static get is() {
                return 'llamado-api';
            }

            /**
             * Object describing property-related metadata used by Polymer features
             */
            static get properties() {
                return {

                    pokemonobject:{
                        type:Object,
                        notify: true,
                        observer: 'setData'
                    },

                    pokemonarray:{
                        type: Array
                    }

                    
                };
            }


            /**
             * Use for one-time configuration of your component after local DOM is initialized. 
             */
            ready() {
                super.ready();

                Polymer.RenderStatus.afterNextRender(this, function() {
                    
                });
            }

            setData(){

                //this.pokemonarray = this.pokemonobject.results;

                this.set('pokemonarray',this.pokemonobject.results);
                console.log('llamado desde llamadoapi: ',this.pokemonarray);
            
            }

        }

        window.customElements.define(LlamadoApi.is, LlamadoApi);
    </script>
</dom-module>